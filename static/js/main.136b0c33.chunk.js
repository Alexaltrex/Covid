(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{231:function(e,t,a){e.exports=a(372)},236:function(e,t,a){},372:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),o=a.n(s),u=(a(236),a(54)),i=a(17),c=a(108),l=a(95),m=a(96),p=a(107),d=a(109),f=a(10),v=a(11),g=a.n(v),h=a(377),y=function(e){for(var t="".concat(e),a=t.length,n="";a>3;)n="."+t.slice(a-3)+n,t=t.slice(0,a-3),a-=3;return n=t+n},E=function(e){var t=e.color,a=e.caseType,n=e.value,s=e.icon,o=b(),u=g()({type:{flexGrow:1,paddingLeft:5,color:t},iconWrapper:{color:t}})();return r.a.createElement("div",{className:o.item},r.a.createElement(h.a,{variant:"h6",className:u.type},a),r.a.createElement("div",{className:o.valueWrapper},r.a.createElement("div",{className:u.iconWrapper},s),r.a.createElement(h.a,{variant:"h6",className:o.value},y(n))))},b=g()({item:{display:"flex",alignItems:"center"},valueWrapper:{flexBasis:180,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"flex-start"},value:{marginLeft:10}}),T=a(135),C=a.n(T),S=a(137),O=a.n(S),D=a(136),x=a.n(D),R={English:{eng:"English",rus:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},"Change language":{eng:"Change language",rus:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u044f\u0437\u044b\u043a"},Global:{eng:"Global",rus:"\u0412\u0435\u0441\u044c \u043c\u0438\u0440"},"By country":{eng:"By country",rus:"\u0414\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u044b"},"Confirmed new":{eng:"Confirmed new",rus:"\u0417\u0430\u0431\u043e\u043b\u0435\u0432\u0448\u0438\u0445 (\u0437\u0430 \u0434\u0435\u043d\u044c)"},"Confirmed total":{eng:"Confirmed total",rus:"\u0417\u0430\u0431\u043e\u043b\u0435\u0432\u0448\u0438\u0445 (\u0432\u0441\u0435\u0433\u043e)"},"Deaths new":{eng:"Deaths new",rus:"\u0423\u043c\u0435\u0440\u0448\u0438\u0445 (\u0437\u0430 \u0434\u0435\u043d\u044c)"},"Deaths total":{eng:"Deaths total",rus:"\u0423\u043c\u0435\u0440\u0448\u0438\u0445 (\u0432\u0441\u0435\u0433\u043e)"},"Recovered new":{eng:"Recovered new",rus:"\u0412\u044b\u043b\u0435\u0447\u0438\u0432\u0448\u0438\u0445\u0441\u044f (\u0437\u0430 \u0434\u0435\u043d\u044c)"},"Recovered total":{eng:"Recovered total",rus:"\u0412\u044b\u043b\u0435\u0447\u0438\u0432\u0448\u0438\u0445\u0441\u044f (\u0432\u0441\u0435\u0433\u043e)"},Home:{eng:"Home",rus:"\u0414\u043e\u043c\u043e\u0439"},Summary:{eng:"Summary",rus:"\u0421\u0443\u043c\u043c\u0430\u0440\u043d\u043e"},Statistic:{eng:"Statistic",rus:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},"1 week":{eng:"1 week",rus:"1 \u043d\u0435\u0434\u0435\u043b\u044f"},"2 week":{eng:"2 week",rus:"2 \u043d\u0435\u0434\u0435\u043b\u0438"},"30 days":{eng:"30 days",rus:"30 \u0434\u043d\u0435\u0439 "},"By start":{eng:"By start",rus:"\u0421 \u043d\u0430\u0447\u0430\u043b\u0430"},"By day":{eng:"By day",rus:"\u0417\u0430 \u0434\u0435\u043d\u044c"},Total:{eng:"Total",rus:"\u0412\u0441\u0435\u0433\u043e"},Confirmed:{eng:"Confirmed",rus:"\u0417\u0430\u0431\u043e\u043b\u0435\u0432\u0448\u0438\u0435"},Recovered:{eng:"Recovered",rus:"\u0412\u044b\u043b\u0435\u0447\u0438\u0432\u0448\u0438\u0435\u0441\u044f"},Deaths:{eng:"Deaths",rus:"\u0423\u043c\u0435\u0440\u0448\u0438\u0435"},Country:{eng:"Country",rus:"\u0421\u0442\u0440\u0430\u043d\u0430"},Period:{eng:"Period",rus:"\u041f\u0435\u0440\u0438\u043e\u0434"},"By day / Total":{eng:"By day / Total",rus:"\u0417\u0430 \u0434\u0435\u043d\u044c / \u0432\u0441\u0435\u0433\u043e"},"Case type":{eng:"Case type",rus:"\u0422\u0438\u043f"},"Coronavirus statistic":{eng:"Coronavirus statistic",rus:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043a\u043e\u0440\u043e\u043d\u0430\u0432\u0438\u0440\u0443\u0441\u0430"}},w=function(e,t){return"rus"===e?R[t].rus:R[t].eng},L=function(e){var t=e.cases,a=e.lang,n=["darkred","darkred","darkblue","darkblue","darkgreen","darkgreen"],s=[w(a,"Confirmed new"),w(a,"Confirmed total"),w(a,"Deaths new"),w(a,"Deaths total"),w(a,"Recovered new"),w(a,"Recovered total")],o=[r.a.createElement(C.a,null),r.a.createElement(C.a,null),r.a.createElement(x.a,null),r.a.createElement(x.a,null),r.a.createElement(O.a,null),r.a.createElement(O.a,null)],u=t&&Object.keys(t),i=t&&u&&u.map((function(e,a){return r.a.createElement(E,{key:e,value:t[e],color:n[a],caseType:s[a],icon:o[a]})}));return r.a.createElement("div",null,i)},k={getCurrentDate:function(){return new Date},dateJsToAPI:function(e){var t,a=e.getFullYear(),n=e.getMonth()+1;t=n<10?"0".concat(n):"".concat(n);var r,s=e.getDate();return r=s<10?"0".concat(s):"".concat(s),"".concat(a,"-").concat(t,"-").concat(r,"T00:00:00Z")},dateAPIToJs:function(e){var t=+e.slice(0,4),a=+e.slice(5,7)-1,n=+e.slice(8,10);return new Date(t,a,n)},getStartPeriodDate:function(e){var t=this.getCurrentDate(),a=new Date(t.getTime()-24*e*60*60*1e3);return this.dateJsToAPI(a)},getStartPeriodDateActual:function(e,t){var a=this.dateAPIToJs(t),n=new Date(a.getTime()-24*e*60*60*1e3);return this.dateJsToAPI(n)},getDates:function(e,t){for(var a=[],n=this.dateAPIToJs(t),r=new Date(n.getTime()-24*(e-1)*60*60*1e3),s=0;s<e;s++){var o=r.getMonth()+1,u=void 0;u=o<10?"0".concat(o):"".concat(o);var i=r.getDate(),c=void 0;c=i<10?"0".concat(i):"".concat(i),a.push("".concat(c,".").concat(u)),r=new Date(r.getTime()+864e5)}return a},getMonthWord:function(e,t){var a=[{eng:"January",rus:"\u042f\u043d\u0432\u0430\u0440\u044f"},{eng:"February",rus:"\u0424\u0435\u0432\u0440\u0430\u043b\u044f"},{eng:"March",rus:"\u041c\u0430\u0440\u0442\u0430"},{eng:"April",rus:"\u0410\u043f\u0440\u0435\u043b\u044f"},{eng:"May",rus:"\u041c\u0430\u044f"},{eng:"June",rus:"\u0418\u044e\u043d\u044f"},{eng:"July",rus:"\u0418\u044e\u043b\u044f"},{eng:"August",rus:"\u0410\u0432\u0433\u0443\u0441\u0442\u0430"},{eng:"September",rus:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f"},{eng:"October",rus:"\u041e\u043a\u0442\u044f\u0431\u0440\u044f"},{eng:"November",rus:"\u041d\u043e\u044f\u0431\u0440\u044f"},{eng:"December",rus:"\u0414\u0435\u043a\u0430\u0431\u0440\u044f"}];return"eng"===t?a[e].eng:a[e].rus},dateTranslateFromAPI:function(e,t){var a=e.slice(0,4),n=e.slice(5,7),r=this.getMonthWord(+n,t),s="0"===e[8]?e.slice(9,10):e.slice(8,10);return"".concat(s," ").concat(r," ").concat(a)},dateTranslateFromApiToGraph:function(e){var t=e.slice(8,10),a=e.slice(5,7);return"".concat(t,".").concat(a)}},j=a(63),M=a(186),N=a(187),A=a(403),I=a(401),_=function(e){var t=e.input,a=(e.label,e.meta),n=a.touched,s=a.error,o=e.children,u=Object(c.a)(e,["input","label","meta","children"]);return r.a.createElement(A.a,{error:n&&s},r.a.createElement(I.a,Object.assign({native:!0},t,u,{inputProps:{name:t.name}}),o))},X=Object(N.a)({form:"summary-country"})((function(e){var t=e.handleSubmit,a=e.countriesList,n=P(),s=a&&a.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),o=Object(f.c)();return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:n.fieldWrapper},r.a.createElement(M.a,{name:"country",component:_,className:n.selectField,onChange:function(){setTimeout((function(){return o(Object(j.a)("summary-country"))}))}},s)))})),V=function(e){var t=e.setCurrentCountry,a=e.currentCountry,n=e.countriesList,s={country:a};return r.a.createElement(X,{onSubmit:function(e){t(e.country)},initialValues:s,countriesList:n})},P=g()({fieldWrapper:{display:"grid",gridTemplateColumns:"1fr",marginBottom:5},selectField:{backgroundColor:"white",paddingLeft:5,width:"100%"}}),Y=a(140),H=a.n(Y),W=a(194),U=a(38),G=a(21),B=a.n(G),F=a(40),J=a(195),z=a.n(J).a.create({baseURL:"https://api.covid19api.com/"}),Z=function(){return Object(F.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("summary");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},q=function(){return Object(F.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("countries");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},K=function(e,t,a){return Object(F.a)(B.a.mark((function n(){var r;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z.get("total/country/".concat(e,"?from=").concat(t,"&to=").concat(a));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})))()},Q=function(e){return Object(F.a)(B.a.mark((function t(){var a,n,r,s;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=k.getStartPeriodDate(2),n=k.dateJsToAPI(k.getCurrentDate()),t.next=4,z.get("total/country/".concat(e,"?from=").concat(a,"&to=").concat(n));case 4:return r=t.sent,s=r.data[r.data.length-1].Date,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))()},$=function(e){return Object(F.a)(B.a.mark((function t(){var a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.get("dayone/country/".concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},ee={globalError:null,isLoading:!1,lanError:!1,lang:"eng"},te=function(e){return{type:"APP/TOGGLE_LOADING",isLoading:e}},ae=function(e){return{type:"APP/SET_LAN_ERROR",lanError:e}},ne=function(e){return{type:"APP/SET_LANG",lang:e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_LANG":return console.log("APP/SET_LANG"),Object(U.a)({},e,{lang:t.lang});case"APP/TOGGLE_LOADING":return Object(U.a)({},e,{isLoading:t.isLoading});case"APP/SET_LAN_ERROR":return Object(U.a)({},e,{lanError:t.lanError});default:return e}},se={date:"",summaryCases:null,countriesCases:null,countriesList:[],currentCountry:"Russian Federation"},oe=function(e){return{type:"SUMMARY/SET_DATE",date:e}},ue=function(e){return{type:"SUMMARY/SET_SUMMARY_CASES",summaryCases:e}},ie=function(e){return{type:"SUMMARY/SET_COUNTRIES_CASES",countriesCases:e}},ce=function(e){return{type:"SUMMARY/SET_COUNTRIES_LIST",countriesCases:e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUMMARY/SET_DATE":return Object(U.a)({},e,{date:t.date});case"SUMMARY/SET_SUMMARY_CASES":return Object(U.a)({},e,{summaryCases:t.summaryCases});case"SUMMARY/SET_COUNTRIES_CASES":return Object(U.a)({},e,{countriesCases:t.countriesCases});case"SUMMARY/SET_CURRENT_COUNTRY":return Object(U.a)({},e,{currentCountry:t.country});case"SUMMARY/SET_COUNTRIES_LIST":for(var a=[],n=0;n<t.countriesCases.length;n++)a.push(t.countriesCases[n].Country);return Object(U.a)({},e,{countriesList:a});default:return e}},me=function(e){return{type:"SUMMARY/SET_CURRENT_COUNTRY",country:e}},pe=Object(f.b)((function(e){return{summaryCases:e.summary.summaryCases,countriesList:e.summary.countriesList,currentCountry:e.summary.currentCountry}}),{setCurrentCountry:me})(V),de=a(397),fe=a(398),ve=function(){var e=ge();return r.a.createElement("div",{className:e.circularWrapper},r.a.createElement(de.a,{size:200,color:"primary"}))},ge=Object(fe.a)({circularWrapper:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1001}}),he=a(5),ye=function(e){var t=e.date,a=e.summaryCases,n=e.isLoading,s=e.lang,o=e.countriesCases,u=e.currentCountry,i=Ee(),c=o&&o.find((function(e){return e.Country===u})),l=c&&{NewConfirmed:c.NewConfirmed,TotalConfirmed:c.TotalConfirmed,NewDeaths:c.NewDeaths,TotalDeaths:c.TotalDeaths,NewRecovered:c.NewRecovered,TotalRecovered:c.TotalRecovered};return n?r.a.createElement(ve,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.blocks},r.a.createElement("div",{className:i.block},r.a.createElement("div",{className:Object(he.a)(i.titleWrapper,i.titleWrapper1)},r.a.createElement(h.a,{variant:"h5",align:"center"},w(s,"Global"))),r.a.createElement(L,{cases:a,lang:s})),r.a.createElement("div",{className:i.block},r.a.createElement("div",{className:i.titleWrapper},r.a.createElement(h.a,{variant:"h5",align:"center"},w(s,"By country"))),r.a.createElement("div",null,r.a.createElement(pe,null)),r.a.createElement(L,{cases:l,lang:s}))),r.a.createElement(h.a,{variant:"subtitle1",align:"center"},k.dateTranslateFromAPI(t,s)))},Ee=g()({blocks:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:20,margin:"0 20px 10px"},block:{border:"1px solid #fff",borderRadius:10,padding:10},titleWrapper:{marginBottom:10,padding:"5px 0",border:"1px solid #fff",borderRadius:10},titleWrapper1:{marginBottom:47}}),be=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getSummary()}},{key:"render",value:function(){var e=this.props,t=(e.getSummary,Object(c.a)(e,["getSummary"]));return r.a.createElement(ye,t)}}]),a}(r.a.Component),Te=Object(f.b)((function(e){return{date:e.summary.date,summaryCases:e.summary.summaryCases,isLoading:e.app.isLoading,lang:e.app.lang,countriesCases:e.summary.countriesCases,currentCountry:e.summary.currentCountry}}),{getSummary:function(){return function(){var e=Object(W.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(te(!0)),e.next=4,Z();case 4:a=e.sent,t(oe(a.Date)),t(ue(a.Global)),t(ie(a.Countries)),t(ce(a.Countries)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),ae(!0);case 15:return e.prev=15,t(te(!1)),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));return function(t){return e.apply(this,arguments)}}()}})(be),Ce={marginLeftX:30,paddingLeftX:30,marginRightX:30,marginY:30,canvasW:function(){return 800+this.marginLeftX+this.paddingLeftX+this.marginRightX},canvasH:function(){return 300+this.marginY},deltaGridYf:function(e){var t="".concat(e).length;return e>Math.pow(10,t)/2?Math.pow(10,t-1):Math.pow(10,t-1)/2}},Se=a(132),Oe=a.n(Se),De=a(133),xe=a.n(De),Re=a(131),we=a.n(Re),Le=a(18),ke=a.n(Le),je=function(e){var t,a,n=e.period,s=e.mouseX,o=e.mouseY,u=e.caseType,i=e.setMouseHoverCanvas,c=e.infoValue,l=e.infoDate,m=Me(),p=(Ce.canvasW()-Ce.marginLeftX-Ce.marginRightX-Ce.paddingLeftX)/(n-1),d=Math.round((s-Ce.paddingLeftX-Ce.marginLeftX)/p),f=d&&(t=d,Ce.marginLeftX+Ce.paddingLeftX+t*p),v=s>Ce.marginLeftX+Ce.paddingLeftX&&s<Ce.canvasW()-Ce.marginRightX,g={top:o-50,left:f+10};"confirmed"===u&&(a=Oe.a[600]),"recovered"===u&&(a=xe.a[600]),"deaths"===u&&(a=we.a[600]);var E={color:a},b=c?y(c):"No data";return r.a.createElement(r.a.Fragment,null,v&&r.a.createElement("div",{onMouseEnter:function(){i(!0)},onMouseLeave:function(){i(!1)},style:g,className:m.info},r.a.createElement(h.a,{variant:"body1",style:E,className:m.value},b),r.a.createElement(h.a,{variant:"body1",color:"textPrimary"},l)))},Me=g()({info:{position:"absolute",backgroundColor:ke.a[50],zIndex:101,cursor:"default",padding:"2px 5px",boxShadow:"2px 2px 2px 2px rgba(0, 0, 0, 0.5)"},value:{fontWeight:700}}),Ne=a(29),Ae={countriesData:null,period:14,dateEnd:null,dates:[],allValues:{confirmed:{byDay:{values:[]},total:{values:[]}},recovered:{byDay:{values:[]},total:{values:[]}},deaths:{byDay:{values:[]},total:{values:[]}}},mouseX:0,mouseY:0,mouseHoverCanvas:!1,valuesCurrent:[],showInfo:!1,infoValue:null,infoDate:null,xPoint:0,yPoint:0,isInitialized:!1,formValues:{country:"russia",period:"14",byDayOrTotal:"byDay",caseType:"confirmed"}},Ie=function(){return{type:"statistic/SET_INITIALIZED"}},_e=function(e){return{type:"statistic/SET_FORM_VALUES",formValues:e}},Xe=function(e){return{type:"statistic/SET_COUNTRIES_DATA",countriesData:e}},Ve=function(e){return{type:"statistic/SET_PERIOD",period:e}},Pe=function(e){return{type:"statistic/SET_DATE_END",dateEnd:e}},Ye=function(e){return{type:"statistic/SET_DATES",values:e}},He=function(e,t,a){return{type:"statistic/SET_VALUES",values:e,byDayOrTotal:t,caseType:a}},We=function(e,t){return{type:"statistic/SET_MOUSE_XY",mouseX:e,mouseY:t}},Ue=function(e){return{type:"statistic/SET_MOUSE_HOVER_CANVAS",mouseHoverCanvas:e}},Ge=function(e,t){return{type:"statistic/SET_CURRENT_VALUES",byDayOrTotal:e,caseType:t}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"statistic/SET_INITIALIZED":return Object(Ne.a)({},e,{isInitialized:!0});case"statistic/SET_FORM_VALUES":return Object(Ne.a)({},e,{formValues:t.formValues});case"statistic/SET_COUNTRIES_DATA":return t.countriesData.sort((function(e,t){return e.Country>t.Country?1:e.Country<t.Country?-1:0})),Object(Ne.a)({},e,{countriesData:t.countriesData});case"statistic/SET_PERIOD":return Object(Ne.a)({},e,{period:t.period});case"statistic/SET_DATE_END":return Object(Ne.a)({},e,{dateEnd:t.dateEnd});case"statistic/SET_DATES":for(var a=[],n=t.values.length<=31?1:0,r=n;r<t.values.length;r++)a.push(k.dateTranslateFromApiToGraph(t.values[r].Date));return Object(Ne.a)({},e,{dates:a});case"statistic/SET_VALUES":for(var s=[],o=[],u=[],i=[],c=[],l=[],m=t.values.length<=31?1:0,p=m;p<t.values.length;p++)0===m&&0===p?(s.push(t.values[p].Confirmed),o.push(t.values[p].Confirmed),u.push(t.values[p].Recovered),i.push(t.values[p].Recovered),c.push(t.values[p].Deaths),l.push(t.values[p].Deaths)):(t.values[p].Confirmed>=t.values[p-1].Confirmed?(o.push(t.values[p].Confirmed),s.push(t.values[p].Confirmed-t.values[p-1].Confirmed)):(o.push(null),s.push(null)),t.values[p].Recovered>=t.values[p-1].Recovered?(i.push(t.values[p].Recovered),u.push(t.values[p].Recovered-t.values[p-1].Recovered)):(i.push(null),u.push(null)),t.values[p].Deaths>=t.values[p-1].Deaths?(l.push(t.values[p].Deaths),c.push(t.values[p].Deaths-t.values[p-1].Deaths)):(l.push(null),c.push(null)));var d={confirmed:{byDay:{values:s},total:{values:o}},recovered:{byDay:{values:u},total:{values:i}},deaths:{byDay:{values:c},total:{values:l}}},f=d[t.caseType][t.byDayOrTotal].values;return Object(Ne.a)({},e,{valuesCurrent:f,allValues:d});case"statistic/SET_MOUSE_XY":var v;v=t.mouseX>Ce.marginLeftX+Ce.paddingLeftX&&t.mouseX<Ce.canvasW()-Ce.marginRightX&&t.mouseY<Ce.canvasH()-Ce.marginY;var g,h=Math.min.apply(null,e.valuesCurrent.filter((function(e){return null!==e}))),y=Math.max.apply(null,e.valuesCurrent.filter((function(e){return null!==e}))),E=y-h,b=Ce.deltaGridYf(E),T=b*Math.floor(h/b),C=b*(Math.ceil(y/b)+0),S=(Ce.canvasW()-Ce.marginLeftX-Ce.marginRightX-Ce.paddingLeftX)/(e.period-1),O=(Ce.canvasH()-Ce.marginY)/(C-T),D=function(e){return Ce.marginLeftX+Ce.paddingLeftX+e*S},x=function(e){return Ce.canvasH()-Ce.marginY-O*(e-T)},R=Math.round((t.mouseX-Ce.paddingLeftX-Ce.marginLeftX)/S),w=D(R);g=null!==e.valuesCurrent[R]?x(e.valuesCurrent[R]):null;var L=e.valuesCurrent[R],j=e.dates&&e.dates[R];return Object(Ne.a)({},e,{mouseX:t.mouseX,mouseY:t.mouseY,showInfo:v,infoValue:L,infoDate:j,xPoint:w,yPoint:g});case"statistic/SET_MOUSE_HOVER_CANVAS":return Object(Ne.a)({},e,{mouseHoverCanvas:t.mouseHoverCanvas});case"statistic/SET_CURRENT_VALUES":var M=e.allValues[t.caseType][t.byDayOrTotal].values;return Object(Ne.a)({},e,{valuesCurrent:M});case"statistic/SET_SHOW_INFO":return Object(Ne.a)({},e,{showInfo:t.showInfo});default:return e}},Fe=Ue,Je=Object(f.b)((function(e){return{mouseX:e.statistic.mouseX,period:e.statistic.period,caseType:e.statistic.formValues.caseType,mouseY:e.statistic.mouseY,infoValue:e.statistic.infoValue,infoDate:e.statistic.infoDate}}),{setMouseHoverCanvas:Fe})(je),ze=function(e){var t=e.mouseHoverCanvas,a=e.mouseX,s=e.xPoint,o=e.yPoint,u=e.caseType,i=e.showInfo,c=e.setMouseXY,l=e.setMouseHoverCanvas,m=Ze(),p=Object(n.useRef)(null),d=Object(n.useRef)(null);Object(n.useEffect)((function(){if(p.current&&t&&i){var e=Ce.marginLeftX,n=Ce.paddingLeftX,r=Ce.marginRightX,c=Ce.marginY,l=Ce.canvasW(),m=Ce.canvasH();d.current=p.current.getContext("2d");var f=d.current;if(f.clearRect(0,0,l,m),f.fillStyle="transparent",f.fillRect(0,0,l,m),f.strokeStyle="#000000",f.lineWidth=1,f.setLineDash([2,1]),f.beginPath(),a>e+n&&a<l-r&&(f.moveTo(s,0),f.lineTo(s,m-c),f.stroke()),null!==o){var v="000";"confirmed"===u&&(v="red"),"recovered"===u&&(v="green"),"deaths"===u&&(v="blue"),f.strokeStyle=v,f.lineWidth=4,f.lineJoin="round",f.setLineDash([]),f.beginPath(),f.arc(s,o,3,0,2*Math.PI),f.stroke(),f.fillStyle=v,f.fill()}}}),[t,a,s,o,u,i]);return r.a.createElement("canvas",{className:m.canvasGraph,ref:p,width:Ce.canvasW(),height:Ce.canvasH(),onMouseEnter:function(){l(!0)},onMouseLeave:function(){l(!1)},onMouseMove:function(e){if(e.target){var t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;c(a,n)}}})},Ze=g()({canvasGraph:{zIndex:5,position:"absolute",top:0,left:0}}),qe=We,Ke=Ue,Qe=Object(f.b)((function(e){return{mouseHoverCanvas:e.statistic.mouseHoverCanvas,mouseX:e.statistic.mouseX,xPoint:e.statistic.xPoint,yPoint:e.statistic.yPoint,caseType:e.statistic.formValues.caseType,showInfo:e.statistic.showInfo}}),{setMouseXY:qe,setMouseHoverCanvas:Ke})(ze),$e=r.a.memo((function(){var e=et(),t=Object(n.useRef)(null),a=r.a.useRef(null);return Object(n.useEffect)((function(){if(t.current){var e=Ce.canvasW(),n=Ce.canvasH();a.current=t.current.getContext("2d");var r=a.current;r.clearRect(0,0,e,n),r.fillStyle="#fff",r.fillRect(0,0,e,n),r.strokeStyle="#aaa",r.lineWidth=4,r.setLineDash([]),r.beginPath(),r.moveTo(Ce.marginLeftX,0),r.lineTo(Ce.marginLeftX,Ce.canvasH()-Ce.marginY),r.moveTo(Ce.marginLeftX,Ce.canvasH()-Ce.marginY),r.lineTo(Ce.canvasW(),Ce.canvasH()-Ce.marginY),r.stroke()}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null),r.a.createElement("canvas",{className:e.canvasAxis,ref:t,width:Ce.canvasW(),height:Ce.canvasH()}))})),et=g()({canvasAxis:{zIndex:3,position:"absolute",top:0,left:0}}),tt=function(e){var t=e.setMouseXY,a=e.setMouseHoverCanvas,s=e.valuesCurrent,o=e.period,u=e.caseType,i=at(),c=Object(n.useRef)(null),l=r.a.useRef(null);Object(n.useEffect)((function(){var e=Ce.marginLeftX,t=Ce.paddingLeftX,a=Ce.marginRightX,n=Ce.marginY,r=Ce.canvasW(),i=Ce.canvasH();if(c.current){l.current=c.current.getContext("2d");var m=l.current;m.clearRect(0,0,r,i),m.fillStyle="transparent",m.fillRect(0,0,r,i);var p,d,f,v,g=s.filter((function(e){return e})),h=Math.min.apply(null,g),y=Math.max.apply(null,g),E=y-h,b=(r-e-a-t)/(o-1),T=function(a){return e+t+a*b};if(0!==E){p=Ce.deltaGridYf(E),d=p*Math.floor(h/p),f=p*(Math.ceil(y/p)+0),v=(i-n)/(f-d);var C=function(e){return i-n-v*(e-d)};m.strokeStyle="#cccccc",m.lineWidth=1,m.setLineDash([]);for(var S=d;m.beginPath(),m.moveTo(e,C(S)),m.lineTo(r,C(S)),m.stroke(),!((S+=p)>f););}else p=1,d=h,f=y;var O=function(e){return 0!==E?i-n-v*(e-d):i/2-n};"confirmed"===u&&(m.strokeStyle="red"),"recovered"===u&&(m.strokeStyle="green"),"deaths"===u&&(m.strokeStyle="blue"),m.lineWidth=3,m.setLineDash([]);for(var D=0;D<o;D++){if(0===D&&(m.beginPath(),null!==s[0]?m.moveTo(T(D),O(s[0])):m.moveTo(T(D),O(d))),D>0){var x=s[D-1],R=s[D];null!==x&&null!==R&&m.lineTo(T(D),O(R)),null!==x&&null===R&&(m.lineTo(T(D-1),O(d)),m.moveTo(T(D),O(d))),null==x&&null!==R&&(m.moveTo(T(D),O(d)),m.lineTo(T(D),O(R))),null==x&&null==s[D]&&m.moveTo(T(D),O(d))}D===o-1&&m.stroke()}}}),[s,o,u]);return r.a.createElement("canvas",{className:i.canvasGraph,ref:c,width:Ce.canvasW(),height:Ce.canvasH(),onMouseMove:function(e){if(e.target){var a=e.currentTarget.getBoundingClientRect(),n=e.clientX-a.left,r=e.clientY-a.top;t(n,r)}},onMouseEnter:function(){a(!0)},onMouseLeave:function(){a(!1)}})},at=g()({canvasGraph:{zIndex:4,position:"absolute",top:0,left:0}}),nt=We,rt=Ue,st=Object(f.b)((function(e){return{period:e.statistic.period,valuesCurrent:e.statistic.valuesCurrent,caseType:e.statistic.formValues.caseType}}),{setMouseXY:nt,setMouseHoverCanvas:rt})(tt),ot=a(45),ut=a.n(ot),it=function(e){var t=e.top,a=e.left,n=e.value,s=ct(),o={top:t,left:a};return r.a.createElement("div",{className:s.value,style:o},y(n))},ct=g()({value:{position:"absolute",transform:"translate(-100%, -50%)",backgroundColor:ut.a[600],color:ke.a[50],zIndex:100,padding:"2px 4px",borderRadius:1}}),lt=function(e){var t,a,n,s,o=e.valuesCurrent,u=Ce.marginY,i=Ce.canvasH(),c=o.filter((function(e){return e})),l=Math.min.apply(null,c),m=Math.max.apply(null,c),p=m-l,d=[],f=[];if(0!==p){t=Ce.deltaGridYf(p),a=t*Math.floor(l/t),n=t*(Math.ceil(m/t)+0),s=(i-u)/(n-a);for(var v=function(e){return i-u-s*(e-a)},g=a;;)if(d.push(g),f.push(v(g)),(g+=t)>n-t){d.push(g),f.push(v(g));break}}else d=[m],f=[Ce.canvasH()/2-Ce.marginY];var h=Ce.marginLeftX-5,y=d.map((function(e,t){return r.a.createElement(it,{key:t,value:e,top:f[t],left:h})}));return r.a.createElement(r.a.Fragment,null,y)},mt=Object(f.b)((function(e){return{valuesCurrent:e.statistic.valuesCurrent}}),{})(lt),pt=function(e){var t=e.top,a=e.left,n=e.date,s=dt(),o={top:t,left:a};return r.a.createElement("div",{className:s.date,style:o},n)},dt=g()({date:{position:"absolute",transform:"translate(-50%, 5px)",backgroundColor:ut.a[600],color:ke.a[50],zIndex:100,padding:"2px 4px",borderRadius:1}}),ft=function(e){for(var t=e.dates,a=e.period,n=Ce.canvasW(),s=Ce.canvasH(),o=Ce.marginY,u=Ce.marginLeftX,i=Ce.marginRightX,c=Ce.paddingLeftX,l=(n-u-i-c)/(a-1),m=function(e){return u+c+e*l},p=s-o,d=[],f=0;f<e.dates.length;f++)d.push(m(f));var v=1;30===+a?v=2:+a>30&&(v=Math.floor(+a/16));var g=t.map((function(e,t){return t%v===0?r.a.createElement(pt,{key:t,date:e,top:p,left:d[t]}):null}));return r.a.createElement(r.a.Fragment,null,g)},vt=Object(f.b)((function(e){return{dates:e.statistic.dates,period:e.statistic.period}}),{})(ft),gt=function(e){var t=e.valuesCurrent,a=e.mouseHoverCanvas,n=e.showInfo,s=e.isLoading,o=ht(),u=!!t.length;return r.a.createElement("div",{className:o.canvasBlock},r.a.createElement("div",{className:o.canvasAll},r.a.createElement($e,null),s||!u?r.a.createElement(ve,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(st,null),n&&a&&r.a.createElement(Qe,null),r.a.createElement(mt,null),n&&a&&r.a.createElement(Je,null),r.a.createElement(vt,null))))},ht=g()({canvasBlock:{backgroundColor:"white",display:"flex",justifyContent:"center",marginBottom:5},canvasAll:{margin:"50px auto 30px",position:"relative",width:Ce.canvasW(),height:Ce.canvasH()}}),yt=Object(f.b)((function(e){return{valuesCurrent:e.statistic.valuesCurrent,mouseHoverCanvas:e.statistic.mouseHoverCanvas,showInfo:e.statistic.showInfo,isLoading:e.app.isLoading}}),{})(gt),Et=function(e){var t=e.fieldTitle,a=e.name,n=e.elements,s=bt(),o=Object(f.c)();return r.a.createElement("div",{className:s.row},r.a.createElement("div",{className:s.fieldName},r.a.createElement(h.a,{className:s.typography},t)),r.a.createElement(M.a,{name:a,component:_,className:s.selectField,onChange:function(){setTimeout((function(){return o(Object(j.a)("statistic"))}))}},n))},bt=g()({row:{display:"grid",gridTemplateColumns:"1fr 1fr",gridColumnGap:5,marginBottom:2},fieldName:{display:"flex",justifyContent:"flex-end",alignItems:"center",backgroundColor:ut.a[900],paddingRight:15},typography:{color:ke.a[50]},selectField:{backgroundColor:ke.a[50]}}),Tt=Object(N.a)({form:"statistic"})((function(e){var t=e.handleSubmit,a=e.countriesData,n=e.lang,s=a&&a.map((function(e,t){return r.a.createElement("option",{key:t,value:e.Slug},e.Country)})),o=[{label:w(n,"1 week"),value:7},{label:w(n,"2 week"),value:14},{label:w(n,"30 days"),value:30},{label:w(n,"By start"),value:-1}].map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)})),u=[{label:w(n,"By day"),value:"byDay"},{label:w(n,"Total"),value:"total"}].map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)})),i=[{label:w(n,"Confirmed"),value:"confirmed"},{label:w(n,"Recovered"),value:"recovered"},{label:w(n,"Deaths"),value:"deaths"}].map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)}));return r.a.createElement("form",{onSubmit:t},r.a.createElement(Et,{fieldTitle:w(n,"Country"),name:"country",elements:s}),r.a.createElement(Et,{fieldTitle:w(n,"Period"),name:"period",elements:o}),r.a.createElement(Et,{fieldTitle:w(n,"By day / Total"),name:"byDayOrTotal",elements:u}),r.a.createElement(Et,{fieldTitle:w(n,"Case type"),name:"caseType",elements:i}))})),Ct=function(e){var t=e.countriesData,a=e.formValues,n=e.setFormValues,s=e.setPeriod,o=e.lang,u=a;return r.a.createElement(Tt,{onSubmit:function(e){n(e),("-1"!==a.period||a.caseType===e.caseType&&a.byDayOrTotal===e.byDayOrTotal)&&s(+e.period)},initialValues:u,countriesData:t,lang:o})},St=_e,Ot=Ve,Dt=Object(f.b)((function(e){return{countriesData:e.statistic.countriesData,formValues:e.statistic.formValues,lang:e.app.lang}}),{setFormValues:St,setPeriod:Ot})(Ct),xt=function(){var e=Rt();return r.a.createElement("div",{className:e.statistic},r.a.createElement("div",null,r.a.createElement(yt,null)),r.a.createElement("div",null,r.a.createElement(Dt,null)))},Rt=g()({statistic:{padding:"10px 10px 20px"}}),wt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.formValues.period,t=this.props.formValues.country,a=this.props.formValues.byDayOrTotal,n=this.props.formValues.caseType;this.props.getInitial(e,t,a,n)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.formValues.period,n=this.props.formValues.country,r=this.props.formValues.byDayOrTotal,s=this.props.formValues.caseType;!this.props.dateEnd||e.formValues.period===this.props.formValues.period&&e.formValues.country===this.props.formValues.country||this.props.getValues(this.props.dateEnd,a,n,r,s),e.formValues.country!==this.props.formValues.country||e.formValues.period!==this.props.formValues.period||e.formValues.byDayOrTotal===this.props.formValues.byDayOrTotal&&e.formValues.caseType===this.props.formValues.caseType||this.props.setCurrentValues(r,s)}},{key:"render",value:function(){return r.a.createElement(xt,null)}}]),a}(r.a.Component),Lt=Ge,kt=Object(f.b)((function(e){return{isInitialized:e.statistic.isInitialized,isLoading:e.app.isLoading,dateEnd:e.statistic.dateEnd,formValues:e.statistic.formValues}}),{getInitial:function(e,t,a,n){return function(){var r=Object(F.a)(B.a.mark((function r(s){var o,u,i,c,l,m;return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s(te(!0)),r.next=4,q();case 4:return o=r.sent,s(Xe(o)),r.next=8,Q(t);case 8:return u=r.sent,s(Pe(u)),i=k.dateAPIToJs(u),c=new Date(i.getTime()-24*+e*60*60*1e3),l=k.dateJsToAPI(c),r.next=15,K(t,l,u);case 15:m=r.sent,s(He(m,a,n)),s(Ye(m)),s(Ie()),r.next=25;break;case 21:r.prev=21,r.t0=r.catch(0),console.log(r.t0),s(ae(!0));case 25:return r.prev=25,s(te(!1)),r.finish(25);case 28:case"end":return r.stop()}}),r,null,[[0,21,25,28]])})));return function(e){return r.apply(this,arguments)}}()},getValues:function(e,t,a,n,r){return function(){var s=Object(F.a)(B.a.mark((function s(o){var u,i,c,l,m;return B.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,console.log("getValues"),o(te(!0)),"7"!==t&&"14"!==t&&"30"!==t){s.next=14;break}return u=k.dateAPIToJs(e),i=new Date(u.getTime()-24*+t*60*60*1e3),c=k.dateJsToAPI(i),s.next=9,K(a,c,e);case 9:l=s.sent,o(He(l,n,r)),o(Ye(l)),s.next=20;break;case 14:return s.next=16,$(a);case 16:m=s.sent,o(Ve(m.length)),o(He(m,n,r)),o(Ye(m));case 20:s.next=26;break;case 22:s.prev=22,s.t0=s.catch(0),console.log(s.t0),o(ae(!0));case 26:return s.prev=26,o(te(!1)),s.finish(26);case 29:case"end":return s.stop()}}),s,null,[[0,22,26,29]])})));return function(e){return s.apply(this,arguments)}}()},setCurrentValues:Lt})(wt),jt=function(e){var t=e.lang;return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"h4",align:"center"},w(t,"Coronavirus statistic")))},Mt=Object(f.b)((function(e){return{lang:e.app.lang}}),{})(jt),Nt=function(){var e=At();return r.a.createElement("div",{className:e.main},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Mt,null)}}),r.a.createElement(i.a,{path:"/summary",render:function(){return r.a.createElement(Te,null)}}),r.a.createElement(i.a,{path:"/statistic",render:function(){return r.a.createElement(kt,null)}})))},At=g()({main:{backgroundColor:ke.a[400],padding:"10px 10px 20px",flexGrow:1}}),It=a(56),_t=a.n(It),Xt=a(399),Vt=a(402),Pt=function(e){var t=e.lang,a=e.setLang,n=Yt(),s="eng"===t,o="eng"===t?"ENG":"RUS";return r.a.createElement("div",{className:n.wrapper},r.a.createElement(Xt.a,{control:r.a.createElement(Vt.a,{checked:s,onChange:function(){a("eng"===t?"rus":"eng")},name:"checkedA",classes:{root:n.root,track:n.track}}),label:o,className:n.label}))},Yt=g()({root:{color:"white"},label:{color:"white"},wrapper:{width:100,marginLeft:10},track:{backgroundColor:ke.a[200]}}),Ht=ne,Wt=Object(f.b)((function(e){return{lang:e.app.lang}}),{setLang:Ht})(Pt),Ut=function(e){var t=e.lang,a=Gt();return r.a.createElement("header",{className:a.header},r.a.createElement(h.a,{className:a.logo,variant:"h5"},"Covid"),r.a.createElement("div",{className:a.menu},r.a.createElement("nav",{className:_t.a.nav},r.a.createElement(u.b,{to:"/",className:_t.a.navItem},w(t,"Home")),r.a.createElement(u.b,{to:"/summary",className:_t.a.navItem,activeClassName:_t.a.active},w(t,"Summary")),r.a.createElement(u.b,{to:"/statistic",className:_t.a.navItem,activeClassName:_t.a.active},w(t,"Statistic"))),r.a.createElement(Wt,null)))},Gt=g()({header:{height:60,display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:ut.a[900],padding:"0 10px 0 20px"},logo:{color:ke.a[50],textTransform:"uppercase"},menu:{display:"flex",alignItems:"center"}}),Bt=ne,Ft=Object(f.b)((function(e){return{lang:e.app.lang}}),{setLang:Bt})(Ut),Jt=function(){var e=zt();return r.a.createElement("div",{className:e.appWrapper},r.a.createElement("div",{className:e.app},r.a.createElement(Ft,null),r.a.createElement(Nt,null)))},zt=g()({appWrapper:{backgroundColor:ke.a[100]},app:{maxWidth:1120,width:"100%",margin:"0 auto",minHeight:"100vh",display:"flex",flexDirection:"column"}}),Zt=a(196),qt=a(16),Kt=a(197),Qt=a(188),$t=Object(qt.combineReducers)({summary:le,statistic:Be,app:re,form:Qt.a}),ea=[Zt.a],ta=Object(qt.createStore)($t,Object(Kt.composeWithDevTools)(qt.applyMiddleware.apply(void 0,ea)));window.store=ta;var aa=ta,na=a(64),ra=a(36),sa=a(198),oa=a(199),ua=function(e){Object(oa.a)(a,e);var t=Object(sa.a)(a);function a(e){var n;return Object(na.a)(this,a),(n=t.call(this,e)).state={error:null,errorInfo:null},n}return Object(ra.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?n.createElement("div",null,n.createElement("h2",null,"Something went wrong"),n.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString())):this.props.children}}]),a}(n.Component),ia=a(400);o.a.render(r.a.createElement(u.a,null,r.a.createElement(f.a,{store:aa},r.a.createElement(ua,null,r.a.createElement(ia.a,null),r.a.createElement(Jt,null)))),document.getElementById("root"))},56:function(e,t,a){e.exports={nav:"Header_nav__FqsW2",navItem:"Header_navItem__2y3HY",active:"Header_active__fu_PZ"}}},[[231,1,2]]]);
//# sourceMappingURL=main.136b0c33.chunk.js.map