(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{17:function(e,t,a){e.exports={canvas:"Canvas_canvas__1oeia",canvasWrapper:"Canvas_canvasWrapper__H74z-",canvasAxis:"Canvas_canvasAxis__1Bly_",canvasGraph:"Canvas_canvasGraph__2HJMp",canvasPoint:"Canvas_canvasPoint__2p_Lg"}},21:function(e,t,a){e.exports={item:"SummaryItem_item__2BGAE",type:"SummaryItem_type__2bPut",value:"SummaryItem_value__3yGm9"}},27:function(e,t,a){e.exports={info:"Info_info__2gkNM",value:"Info_value__3nvX_"}},38:function(e,t,a){e.exports={appWrapper:"App_appWrapper__2lG0z"}},39:function(e,t,a){e.exports={main:"Main_main__2FTig"}},40:function(e,t,a){e.exports={home:"Home_home__2AIWm"}},42:function(e,t,a){e.exports={preloader:"Preloader_preloader__2WkBw"}},43:function(e,t,a){e.exports=a.p+"static/media/circles.1181204b.svg"},45:function(e,t,a){e.exports={select:"CountryStatistic_select__M0G8x"}},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){e.exports={value:"Date_value__2cCah"}},49:function(e,t,a){e.exports={value:"Value_value__3g19r"}},50:function(e,t,a){},52:function(e,t,a){e.exports=a(80)},57:function(e,t,a){},6:function(e,t,a){e.exports={statistic:"Statistic_statistic__ZlvCf",selects:"Statistic_selects___zXZa",selectBlock:"Statistic_selectBlock__2BVku",selectTitle:"Statistic_selectTitle__34FJY"}},8:function(e,t,a){e.exports={summary:"Summary_summary__1a_gv",blocks:"Summary_blocks__2yTKK",block:"Summary_block__Uxol1",title:"Summary_title__idFCO",date:"Summary_date__a2OlZ"}},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),c=(a(57),a(10)),i=a(38),u=a.n(i),l=a(9),p=a.n(l),v=function(){return r.a.createElement("header",{className:p.a.header},r.a.createElement("div",{className:p.a.logo},"Covid"),r.a.createElement("nav",{className:p.a.nav},r.a.createElement(c.b,{to:"/",className:p.a.navItem},"Home"),r.a.createElement(c.b,{to:"/summary",className:p.a.navItem,activeClassName:p.a.active},"Summary"),r.a.createElement(c.b,{to:"/statistic",className:p.a.navItem,activeClassName:p.a.active},"Statistic")))},m=a(39),d=a.n(m),f=a(2),h=a(40),y=a.n(h),g=function(e){return r.a.createElement("div",{className:y.a.home},r.a.createElement("div",null,"\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u043d\u0430 \u0431\u0430\u0437\u0435 API: ",r.a.createElement("a",{href:"https://api.covid19api.com"},"https://api.covid19api.com")),r.a.createElement("div",null,"\u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c ",r.a.createElement("span",null,"React")," + ",r.a.createElement("span",null,"Redux")),r.a.createElement("div",null,"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u043c\u043e\u0434\u0443\u043b\u0438: 'react-router-dom', 'redux', 'react-redux', 'redux-thunk', 'axios'"))},E=a(12),T=a(13),C=a(14),_=a(15),b=a(3),P=a(8),S=a.n(P),D=a(42),N=a.n(D),L=a(43),O=a.n(L),I=function(){return r.a.createElement("div",{className:N.a.preloader},r.a.createElement("img",{src:O.a,alt:""}))},X=a(21),R=a.n(X),w=function(e){var t={color:e.color};return r.a.createElement("div",{className:R.a.item},r.a.createElement("div",{className:R.a.type,style:t},e.type),r.a.createElement("div",{className:R.a.value},e.value))},H=function(e){var t=["darkred","darkred","darkgreen","darkgreen","darkblue","darkblue"],a=["Confirmed new","Confirmed total","Recovered new","Recovered total","Deaths new","Deaths total"],n=e.cases.map((function(e,n){return r.a.createElement(w,{key:n,value:e,color:t[n],type:a[n]})}));return r.a.createElement("div",{className:S.a.items},n)},A=a(1),M=a(44),k={getCurrentDate:function(){return new Date},dateJsToAPI:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getDate();return n<10&&(n="0"+n),"".concat(t,"-").concat(a,"-").concat(n,"T00:00:00Z")},dateAPIToJs:function(e){var t=e.slice(0,4),a=e.slice(5,7)-1,n=e.slice(8,10);return new Date(t,a,n)},getStartPeriodDate:function(e){var t=this.getCurrentDate(),a=new Date(t.getTime()-24*e*60*60*1e3);return this.dateJsToAPI(a)},getStartPeriodDateActual:function(e,t){var a=this.dateAPIToJs(t),n=new Date(a.getTime()-24*e*60*60*1e3);return this.dateJsToAPI(n)},getDates:function(e,t){for(var a=[],n=this.dateAPIToJs(t),r=new Date(n.getTime()-24*(e-1)*60*60*1e3),s=0;s<e;s++){var o=r.getMonth()+1;o<10&&(o="0"+o);var c=r.getDate();c<10&&(c="0"+c),a.push("".concat(c,".").concat(o)),r=new Date(r.getTime()+864e5)}return a}},Y=M.create({baseURL:"https://api.covid19api.com/"}),x=function(){return Y.get("summary").then((function(e){return e.data}))},j=function(){return Y.get("countries").then((function(e){return e.data}))},W=function(e,t,a){return Y.get("total/country/".concat(e,"?from=").concat(t,"&to=").concat(a)).then((function(e){return e.data}))},G=function(e){var t=k.getStartPeriodDate(2),a=k.dateJsToAPI(k.getCurrentDate());return Y.get("total/country/".concat(e,"?from=").concat(t,"&to=").concat(a)).then((function(e){return e.data}))},U=function(e){return Y.get("dayone/country/".concat(e)).then((function(e){return e.data}))},V={isLoading:!1,date:"",global:[],cases:[],countries:[],countriesList:[],currentCountry:""},B=function(e){return{type:"TOGGLE-LOADING",isLoading:e}},J=function(e){return{type:"SET-CURRENT-COUNTRY",country:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE-LOADING":return Object(A.a)({},e,{isLoading:t.isLoading});case"SET_DATE":return Object(A.a)({},e,{date:t.date});case"SET-GLOBAL":var a=[];return a.push(t.global.NewConfirmed),a.push(t.global.TotalConfirmed),a.push(t.global.NewRecovered),a.push(t.global.TotalRecovered),a.push(t.global.NewDeaths),a.push(t.global.TotalDeaths),Object(A.a)({},e,{global:a});case"INITIAL-SET-CASES":var n=[];return n.push(t.country.NewConfirmed),n.push(t.country.TotalConfirmed),n.push(t.country.NewRecovered),n.push(t.country.TotalRecovered),n.push(t.country.NewDeaths),n.push(t.country.TotalDeaths),Object(A.a)({},e,{cases:n});case"CHANGE_CASES":var r=e.countries.find((function(e){return e.country===t.country})).cases;return Object(A.a)({},e,{cases:r});case"SET-COUNTRIES":for(var s=[],o=0;o<t.countries.length;o++)s[o]={},s[o].country=t.countries[o].Country,s[o].cases=[],s[o].cases.push(t.countries[o].NewConfirmed),s[o].cases.push(t.countries[o].TotalConfirmed),s[o].cases.push(t.countries[o].NewRecovered),s[o].cases.push(t.countries[o].TotalRecovered),s[o].cases.push(t.countries[o].NewDeaths),s[o].cases.push(t.countries[o].TotalDeaths);return Object(A.a)({},e,{countries:s});case"SET-CURRENT-COUNTRY":return Object(A.a)({},e,{currentCountry:t.country});case"SET_COUNTRIES_LIST":for(var c=[],i=0;i<t.countries.length;i++)c.push(t.countries[i].Country);return Object(A.a)({},e,{countriesList:c});default:return e}},Z=function(e){var t=e.countriesList.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}));return r.a.createElement("select",{onChange:function(t){e.setCurrentCountry(t.currentTarget.value),e.changeCases(t.currentTarget.value)},value:e.currentCountry},t)},z=Object(b.b)((function(e){return{currentCountry:e.summaryPage.currentCountry,countriesList:e.summaryPage.countriesList}}),{setCurrentCountry:J,changeCases:function(e){return{type:"CHANGE_CASES",country:e}}})(Z),K=function(e){return e.isLoading?r.a.createElement(I,null):r.a.createElement("div",{className:S.a.summary},r.a.createElement("div",{className:S.a.blocks},r.a.createElement("div",{className:S.a.block},r.a.createElement("div",{className:S.a.title},"Global"),r.a.createElement(H,{cases:e.global})),r.a.createElement("div",{className:S.a.block},r.a.createElement("div",{className:S.a.title},"By country"),r.a.createElement("div",null,r.a.createElement(z,null)),r.a.createElement(H,{cases:e.cases}))),r.a.createElement("div",{className:S.a.date},e.date))},q=function(e){Object(_.a)(a,e);var t=Object(C.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.props.getInitial()}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){return r.a.createElement(K,{date:this.props.date,global:this.props.global,cases:this.props.cases})}}]),a}(r.a.Component),Q=Object(b.b)((function(e){return{date:e.summaryPage.date,global:e.summaryPage.global,cases:e.summaryPage.cases,isLoading:e.summaryPage.isLoading}}),{getInitial:function(){return function(e){e(B(!0)),x().then((function(t){e({type:"SET_DATE",date:t.Date}),e({type:"SET-GLOBAL",global:t.Global}),e({type:"INITIAL-SET-CASES",country:t.Countries[138]}),e({type:"SET-COUNTRIES",countries:t.Countries}),e(function(e){return{type:"SET_COUNTRIES_LIST",countries:e}}(t.Countries)),e(J(t.Countries[138].Country)),e(B(!1))}))}}})(q),$=a(6),ee=a.n($),te={marginLeftX:30,paddingLeftX:30,marginRightX:30,marginY:30,canvasW:function(){return 800+this.marginLeftX+this.paddingLeftX+this.marginRightX},canvasH:function(){return 300+this.marginY},deltaGridYf:function(e){return e<=10?1:e>10&&e<=50?5:e>50&&e<=100?10:e>100&&e<=500?50:e>500&&e<=1e3?100:e>1e3&&e<=5e3?500:e>5e3&&e<=1e4?1e3:e>1e4&&e<=5e4?5e3:e>5e4&&e<=1e5?1e4:e>1e5&&e<=5e5?5e4:e>5e5&&e<=1e6?1e5:e>1e6&&e<=5e6?5e5:e>5e6&&e<=1e7?1e6:void 0}},ae={isLoading:!1,countriesData:[],periodInput:14,periodByFirstDay:null,period:14,dateEnd:null,dates:null,currentCountry:"Russian Federation",valuesConfirmedNew:[],valuesConfirmedTotal:[],valuesRecoveredNew:[],valuesRecoveredTotal:[],valuesDeathsNew:[],valuesDeathsTotal:[],type:"byDay",mouseX:null,mouseY:null,mouseHoverCanvas:!1,caseType:"confirmed",valuesCurrent:null,showInfo:!1,infoValue:null,infoDate:null,xPoint:null,yPoint:null},ne=function(e){return{type:"TOGGLE-LOADING",isLoading:e}},re=function(e,t,a){return{type:"SET-VALUES",values:e,typeTime:t,caseType:a}},se=function(e){return{type:"SET-MOUSE-HOVER-CANVAS",value:e}},oe=function(e,t){return{type:"SET-CURRENT-VALUES",typeTime:e,caseType:t}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE-LOADING":return Object(A.a)({},e,{isLoading:t.isLoading});case"SET-COUNTRIES-DATA":return t.countriesData.sort((function(e,t){return e.Country>t.Country?1:e.Country<t.Country?-1:0})),Object(A.a)({},e,{countriesData:t.countriesData});case"SET-CURRENT-COUNTRY":return Object(A.a)({},e,{currentCountry:t.country});case"SET-PERIOD":return Object(A.a)({},e,{periodInput:+t.period,period:+t.period});case"SET_PERIOD_BY_FIRST_DAY":return Object(A.a)({},e,{periodByFirstDay:t.data.length,period:t.data.length});case"SET-DATE-END":var a=t.data[t.data.length-1].Date;return Object(A.a)({},e,{dateEnd:a});case"SET-VALUES":for(var n,r=[],s=[],o=[],c=[],i=[],u=[],l=[],p=n=t.values.length<=31?1:0;p<t.values.length;p++){var v=t.values[p].Date.slice(8,10),m=t.values[p].Date.slice(5,7);l.push("".concat(v,".").concat(m)),0===n&&0===p?(r.push(t.values[p].Confirmed),s.push(t.values[p].Confirmed),o.push(t.values[p].Recovered),c.push(t.values[p].Recovered),i.push(t.values[p].Deaths),u.push(t.values[p].Deaths)):(t.values[p].Confirmed>=t.values[p-1].Confirmed?(s.push(t.values[p].Confirmed),r.push(t.values[p].Confirmed-t.values[p-1].Confirmed)):(s.push(null),r.push(null)),t.values[p].Recovered>=t.values[p-1].Recovered?(c.push(t.values[p].Recovered),o.push(t.values[p].Recovered-t.values[p-1].Recovered)):(c.push(null),o.push(null)),t.values[p].Deaths>=t.values[p-1].Deaths?(u.push(t.values[p].Deaths),i.push(t.values[p].Deaths-t.values[p-1].Deaths)):(u.push(null),i.push(null)))}var d=[];return"byDay"===t.typeTime&&"confirmed"===t.caseType&&(d=r),"total"===t.typeTime&&"confirmed"===t.caseType&&(d=s),"byDay"===t.typeTime&&"recovered"===t.caseType&&(d=o),"total"===t.typeTime&&"recovered"===t.caseType&&(d=c),"byDay"===t.typeTime&&"deaths"===t.caseType&&(d=i),"total"===t.typeTime&&"deaths"===t.caseType&&(d=u),Object(A.a)({},e,{valuesConfirmedNew:r,valuesRecoveredNew:o,valuesDeathsNew:i,valuesConfirmedTotal:s,valuesRecoveredTotal:c,valuesDeathsTotal:u,valuesCurrent:d,dates:l});case"SET-TYPE":return Object(A.a)({},e,{type:t.typeValue});case"SET-MOUSE-XY":var f;f=t.mouseX>te.marginLeftX+te.paddingLeftX&&t.mouseX<te.canvasW()-te.marginRightX&&t.mouseY<te.canvasH()-te.marginY;var h,y=Math.min.apply(null,e.valuesCurrent.filter((function(e){return null!==e}))),g=Math.max.apply(null,e.valuesCurrent.filter((function(e){return null!==e}))),E=g-y,T=te.deltaGridYf(E),C=T*Math.floor(y/T),_=T*(Math.ceil(g/T)+0),b=(te.canvasW()-te.marginLeftX-te.marginRightX-te.paddingLeftX)/(e.period-1),P=(te.canvasH()-te.marginY)/(_-C),S=function(e){return te.marginLeftX+te.paddingLeftX+e*b},D=function(e){return te.canvasH()-te.marginY-P*(e-C)},N=Math.round((t.mouseX-te.paddingLeftX-te.marginLeftX)/b),L=S(N);h=null!==e.valuesCurrent[N]?D(e.valuesCurrent[N]):null;var O=e.valuesCurrent[N];null===O&&(O="no data");var I=e.dates[N];return Object(A.a)({},e,{mouseX:t.mouseX,mouseY:t.mouseY,showInfo:f,infoValue:O,infoDate:I,xPoint:L,yPoint:h});case"SET-MOUSE-HOVER-CANVAS":return Object(A.a)({},e,{mouseHoverCanvas:t.value});case"SET-CASE-TYPE":return Object(A.a)({},e,{caseType:t.caseType});case"SET-CURRENT-VALUES":var X;return"byDay"===t.typeTime&&"confirmed"===t.caseType&&(X=e.valuesConfirmedNew),"total"===t.typeTime&&"confirmed"===t.caseType&&(X=e.valuesConfirmedTotal),"byDay"===t.typeTime&&"recovered"===t.caseType&&(X=e.valuesRecoveredNew),"total"===t.typeTime&&"recovered"===t.caseType&&(X=e.valuesRecoveredTotal),"byDay"===t.typeTime&&"deaths"===t.caseType&&(X=e.valuesDeathsNew),"total"===t.typeTime&&"deaths"===t.caseType&&(X=e.valuesDeathsTotal),Object(A.a)({},e,{valuesCurrent:X});case"SET_SHOW_INFO":return Object(A.a)({},e,{showInfo:t.showInfo});default:return e}},ie=a(45),ue=a.n(ie),le=function(e){var t=e.countriesData.map((function(e,t){return r.a.createElement("option",{key:t,value:e.Country},e.Country)}));return r.a.createElement("select",{onChange:function(t){e.setCurrentCountry(t.currentTarget.value)},value:e.currentCountry,className:ue.a.select},t)},pe=Object(b.b)((function(e){return{currentCountry:e.statisticPage.currentCountry,countriesData:e.statisticPage.countriesData}}),{setCurrentCountry:function(e){return{type:"SET-CURRENT-COUNTRY",country:e}}})(le),ve=a(46),me=a.n(ve),de=function(e){var t=[["1 week",7],["2 weeks",14],["30 days",30],["by start",-1]].map((function(e,t){return r.a.createElement("option",{key:t,value:e[1]},e[0])}));return r.a.createElement("select",{onChange:function(t){e.setPeriod(t.currentTarget.value)},value:e.periodInput,className:me.a.select},t)},fe=Object(b.b)((function(e){return{periodInput:e.statisticPage.periodInput}}),{setPeriod:function(e){return{type:"SET-PERIOD",period:e}}})(de),he=a(47),ye=a.n(he),ge=function(e){return r.a.createElement("select",{onChange:function(t){e.setType(t.currentTarget.value),e.setCurrentValues(t.currentTarget.value,e.caseType)},value:e.type,className:ye.a.select},r.a.createElement("option",{value:"byDay"},"by day"),r.a.createElement("option",{value:"total"},"total"))},Ee=Object(b.b)((function(e){return{type:e.statisticPage.type,caseType:e.statisticPage.caseType}}),{setType:function(e){return{type:"SET-TYPE",typeValue:e}},setCurrentValues:oe})(ge),Te=a(17),Ce=a.n(Te),_e=a(27),be=a.n(_e),Pe=function(e){var t,a,n=(te.canvasW()-te.marginLeftX-te.marginRightX-te.paddingLeftX)/(e.period-1),s=Math.round((e.mouseX-te.paddingLeftX-te.marginLeftX)/n),o=(a=s,te.marginLeftX+te.paddingLeftX+a*n);e.mouseX>te.marginLeftX+te.paddingLeftX&&e.mouseX<te.canvasW()-te.marginRightX&&(t=o);var c,i={top:e.mouseY-50,left:t+10};"confirmed"===e.caseType&&(c="red"),"recovered"===e.caseType&&(c="green"),"deaths"===e.caseType&&(c="blue");var u={color:c};return r.a.createElement("div",{onMouseEnter:function(){e.setMouseHoverCanvas(!0)},onMouseLeave:function(){e.setMouseHoverCanvas(!1)},style:i,className:be.a.info},r.a.createElement("div",{style:u,className:be.a.value},e.infoValue),r.a.createElement("div",null,e.infoDate))},Se=Object(b.b)((function(e){return{mouseX:e.statisticPage.mouseX,period:e.statisticPage.period,caseType:e.statisticPage.caseType,mouseY:e.statisticPage.mouseY,infoValue:e.statisticPage.infoValue,infoDate:e.statisticPage.infoDate}}),{setMouseHoverCanvas:se})(Pe),De=a(48),Ne=a.n(De),Le=function(e){var t={top:e.top,left:e.left};return r.a.createElement("div",{className:Ne.a.value,style:t},e.value)},Oe=function(e){var t=1;30===+e.period?t=2:+e.period>30&&(t=Math.floor(+e.period/16));var a=e.dates.map((function(a,n){return n%t===0?r.a.createElement(Le,{key:n,value:a,top:e.top,left:e.leftArr[n]}):null}));return r.a.createElement(r.a.Fragment,null,a)},Ie=function(e){for(var t=(te.canvasW()-te.marginLeftX-te.marginRightX-te.paddingLeftX)/(e.period-1),a=function(e){return te.marginLeftX+te.paddingLeftX+e*t},n=te.canvasH()-te.marginY,s=[],o=0;o<e.dates.length;o++)s.push(a(o));return r.a.createElement(Oe,{dates:e.dates,period:e.period,top:n,leftArr:s})},Xe=a(49),Re=a.n(Xe),we=function(e){var t={top:e.top,left:e.left};return r.a.createElement("div",{className:Re.a.value,style:t},e.value)},He=function(e){var t=e.valuesArr.map((function(t,a){return r.a.createElement(we,{key:a,value:t,top:e.topArr[a],left:e.left})}));return r.a.createElement(r.a.Fragment,null,t)},Ae=function(e){var t,a,n,s,o,c=Math.min.apply(null,e.values.filter((function(e){return null!==e}))),i=Math.max.apply(null,e.values.filter((function(e){return null!==e}))),u=i-c,l=[],p=[];if(0!==u){t=te.deltaGridYf(u),a=t*Math.floor(c/t),n=t*(Math.ceil(i/t)+0),s=(te.canvasH()-te.marginY)/(n-a),o=function(e){return te.canvasH()-te.marginY-s*(e-a)};for(var v=a;;)if(l.push(v),p.push(o(v)),(v+=t)>n-t){l.push(v),p.push(o(v));break}}else l=[i],p=[te.canvasH()/2-te.marginY];var m=te.marginLeftX-5;return r.a.createElement(He,{valuesArr:l,topArr:p,left:m})},Me=function(e){Object(_.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).drawCanvasAxis=function(){var e=n.refs.canvasAxis.getContext("2d");e.clearRect(0,0,n.canvasW,n.canvasH),e.fillStyle="#fff",e.fillRect(0,0,n.canvasW,n.canvasH),e.strokeStyle="#aaa",e.lineWidth=4,e.setLineDash([]),e.beginPath(),e.moveTo(te.marginLeftX,0),e.lineTo(te.marginLeftX,te.canvasH()-te.marginY),e.moveTo(te.marginLeftX,te.canvasH()-te.marginY),e.lineTo(te.canvasW(),te.canvasH()-te.marginY),e.stroke()},n.drawCanvasGraph=function(){var e,t,a,r,s=n.props.valuesCurrent,o=Math.min.apply(null,s.filter((function(e){return null!==e}))),c=Math.max.apply(null,s.filter((function(e){return null!==e}))),i=c-o,u=(n.canvasW-n.marginLeftX-n.marginRightX-n.paddingLeftX)/(n.props.period-1),l=function(e){return n.marginLeftX+n.paddingLeftX+e*u};0!==i&&(e=te.deltaGridYf(i),t=e*Math.floor(o/e),a=e*(Math.ceil(c/e)+0),r=(n.canvasH-n.marginY)/(a-t));var p=function(e){return 0!==i?n.canvasH-n.marginY-r*(e-t):n.canvasH/2-n.marginY},v=n.refs.canvasGraph.getContext("2d");if(v.clearRect(0,0,n.canvasW,n.canvasH),v.fillStyle="transparent",v.fillRect(0,0,n.canvasW,n.canvasH),0!==i){v.strokeStyle="#cccccc",v.lineWidth=1,v.setLineDash([]);for(var m=t;v.beginPath(),v.moveTo(n.marginLeftX,p(m)),v.lineTo(n.canvasW,p(m)),v.stroke(),!((m+=e)>a););}"confirmed"===n.props.caseType&&(v.strokeStyle="red"),"recovered"===n.props.caseType&&(v.strokeStyle="green"),"deaths"===n.props.caseType&&(v.strokeStyle="blue"),v.lineWidth=3,v.setLineDash([]);for(var d=0;d<n.props.period;d++)0===d&&(v.beginPath(),v.moveTo(l(d),p(s[d]))),d>0&&(null!==s[d-1]&&null!==s[d]&&v.lineTo(l(d),p(s[d])),null!==s[d-1]&&null===s[d]&&(v.lineTo(l(d-1),p(t)),v.moveTo(l(d),p(t))),null==s[d-1]&&null!==s[d]&&(v.moveTo(l(d),p(t)),v.lineTo(l(d),p(s[d]))),null==s[d-1]&&null==s[d]&&v.moveTo(l(d),p(t))),d===n.props.period-1&&v.stroke()},n.drawCanvasPoint=function(){var e,t=n.refs.canvasPoint.getContext("2d");(t.clearRect(0,0,n.canvasW,n.canvasH),t.fillStyle="transparent",t.fillRect(0,0,n.canvasW,n.canvasH),n.props.mouseHoverCanvas)&&(t.strokeStyle="#000000",t.lineWidth=1,t.setLineDash([2,1]),t.beginPath(),n.props.mouseX>n.marginLeftX+n.paddingLeftX&&n.props.mouseX<n.canvasW-n.marginRightX&&(t.moveTo(n.props.xPoint,0),t.lineTo(n.props.xPoint,n.canvasH-n.marginY),t.stroke()),null!==n.props.yPoint&&("confirmed"===n.props.caseType&&(e="red"),"recovered"===n.props.caseType&&(e="green"),"deaths"===n.props.caseType&&(e="blue"),t.strokeStyle=e,t.lineWidth=4,t.lineJoin="round",t.setLineDash([]),t.beginPath(),t.arc(n.props.xPoint,n.props.yPoint,3,0,2*Math.PI),t.stroke(),t.fillStyle=e,t.fill()))},n.onMouseMove=function(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left,r=e.clientY-t.top;n.props.setMouseXY(a,r)},n.onMouseEnter=function(){n.props.setMouseHoverCanvas(!0)},n.onMouseLeave=function(){n.props.setMouseHoverCanvas(!1)},n.marginLeftX=te.marginLeftX,n.paddingLeftX=te.paddingLeftX,n.marginRightX=te.marginRightX,n.marginY=te.marginY,n.canvasW=te.canvasW(),n.canvasH=te.canvasH(),n}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.drawCanvasAxis()}},{key:"componentDidUpdate",value:function(e,t,a){var n=!!this.props.valuesCurrent&&!!this.props.valuesCurrent.length;n&&e.valuesCurrent!==this.props.valuesCurrent&&this.drawCanvasGraph(),n&&this.props.mouseHoverCanvas&&this.props.showInfo&&(e.mouseX!==this.props.mouseX||e.mouseY!==this.props.mouseY)&&this.drawCanvasPoint()}},{key:"render",value:function(){var e=!!this.props.valuesCurrent&&!!this.props.valuesCurrent.length,t={width:this.canvasW,height:this.canvasH};return r.a.createElement("div",{className:Ce.a.canvas},r.a.createElement("div",{className:Ce.a.canvasWrapper,style:t},this.props.isLoading&&r.a.createElement(I,null),e&&this.props.showInfo&&this.props.mouseHoverCanvas&&r.a.createElement(Se,null),e&&r.a.createElement(Ae,{values:this.props.valuesCurrent}),e&&r.a.createElement(Ie,{values:this.props.valuesCurrent,dates:this.props.dates,period:this.props.period}),r.a.createElement("canvas",{ref:"canvasAxis",width:this.canvasW,height:this.canvasH,className:Ce.a.canvasAxis}),e&&r.a.createElement("canvas",{ref:"canvasGraph",className:Ce.a.canvasGraph,width:this.canvasW,height:this.canvasH,onMouseMove:this.onMouseMove,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),e&&this.props.mouseHoverCanvas&&this.props.showInfo&&r.a.createElement("canvas",{ref:"canvasPoint",className:Ce.a.canvasPoint,width:this.canvasW,height:this.canvasH,onMouseMove:this.onMouseMove,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})))}}]),a}(r.a.Component),ke=Object(b.b)((function(e){return{period:e.statisticPage.period,valuesCurrent:e.statisticPage.valuesCurrent,mouseHoverCanvas:e.statisticPage.mouseHoverCanvas,mouseX:e.statisticPage.mouseX,mouseY:e.statisticPage.mouseY,dates:e.statisticPage.dates,currentCountry:e.statisticPage.currentCountry,type:e.statisticPage.type,caseType:e.statisticPage.caseType,showInfo:e.statisticPage.showInfo,xPoint:e.statisticPage.xPoint,yPoint:e.statisticPage.yPoint,isLoading:e.statisticPage.isLoading}}),{setMouseXY:function(e,t){return{type:"SET-MOUSE-XY",mouseX:e,mouseY:t}},setMouseHoverCanvas:se,setShowInfo:function(e){return{type:"SET_SHOW_INFO",showInfo:e}}})(Me),Ye=a(50),xe=a.n(Ye),je=function(e){return r.a.createElement("select",{onChange:function(t){e.setCaseType(t.currentTarget.value),e.setCurrentValues(e.type,t.currentTarget.value)},value:e.caseType,className:xe.a.select},r.a.createElement("option",{value:"confirmed"},"confirmed"),r.a.createElement("option",{value:"recovered"},"recovered"),r.a.createElement("option",{value:"deaths"},"deaths"))},We=Object(b.b)((function(e){return{caseType:e.statisticPage.caseType,type:e.statisticPage.type}}),{setCaseType:function(e){return{type:"SET-CASE-TYPE",caseType:e}},setCurrentValues:oe})(je),Ge=function(e){return r.a.createElement("div",{className:ee.a.statistic},r.a.createElement("div",{className:ee.a.canvas},r.a.createElement(ke,null),r.a.createElement("div",null,"mouseHoverCanvas = ".concat(e.mouseHoverCanvas)),r.a.createElement("div",null,"showInfo = ".concat(e.showInfo))),r.a.createElement("div",{className:ee.a.selects},r.a.createElement("div",{className:ee.a.selectBlock},r.a.createElement("div",{className:ee.a.selectTitle},"Select period:"),r.a.createElement("div",null,r.a.createElement(fe,null))),r.a.createElement("div",{className:ee.a.selectBlock},r.a.createElement("div",{className:ee.a.selectTitle},"by day / total:"),r.a.createElement("div",null,r.a.createElement(Ee,null))),r.a.createElement("div",{className:ee.a.selectBlock},r.a.createElement("div",{className:ee.a.selectTitle},"case type:"),r.a.createElement("div",null,r.a.createElement(We,null)))),r.a.createElement("div",{className:ee.a.selects},r.a.createElement("div",{className:ee.a.selectBlock},r.a.createElement("div",{className:ee.a.selectTitle},"Select country:"),r.a.createElement("div",null,r.a.createElement(pe,null)))))},Ue=function(e){Object(_.a)(a,e);var t=Object(C.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.props.getInitial(this.props.period,this.props.currentCountry,this.props.type,this.props.caseType)}},{key:"componentDidUpdate",value:function(e,t,a){e.period===this.props.period&&e.currentCountry===this.props.currentCountry||this.props.getValues(this.props.dateEnd,this.props.period,this.props.currentCountry,this.props.type,this.props.caseType)}},{key:"render",value:function(){return r.a.createElement(Ge,{mouseHoverCanvas:this.props.mouseHoverCanvas,showInfo:this.props.showInfo})}}]),a}(r.a.Component),Ve=Object(b.b)((function(e){return{isLoading:e.statisticPage.isLoading,period:e.statisticPage.period,currentCountry:e.statisticPage.currentCountry,xPoint:e.statisticPage.xPoint,yPoint:e.statisticPage.yPoint,dateEnd:e.statisticPage.dateEnd,type:e.statisticPage.type,caseType:e.statisticPage.caseType,showInfo:e.statisticPage.showInfo,mouseHoverCanvas:e.statisticPage.mouseHoverCanvas}}),{getInitial:function(e,t,a,n){return function(r){r(ne(!0)),j().then((function(e){return r({type:"SET-COUNTRIES-DATA",countriesData:e}),G(t)})).then((function(a){r(function(e){return{type:"SET-DATE-END",data:e}}(a));var n=a[a.length-1].Date,s=k.dateAPIToJs(n),o=new Date(s.getTime()-24*e*60*60*1e3),c=k.dateJsToAPI(o);return W(t,c,n)})).then((function(e){r(re(e,a,n)),r(ne(!1))}))}},getValues:function(e,t,a,n,r){return function(s){if(s(ne(!0)),7===t||14===t||30===t){var o=k.dateAPIToJs(e),c=new Date(o.getTime()-24*t*60*60*1e3),i=k.dateJsToAPI(c);W(a,i,e).then((function(e){s(re(e,n,r)),s(ne(!1))}))}else console.log("getValuesFromDayOne"),U(a).then((function(e){s(function(e){return{type:"SET_PERIOD_BY_FIRST_DAY",data:e}}(e)),s(re(e,n,r)),s(ne(!1))}))}}})(Ue),Be=function(){return r.a.createElement("div",{className:d.a.main},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/covid",render:function(){return r.a.createElement(g,null)}}),r.a.createElement(f.a,{exact:!0,path:"/",render:function(){return r.a.createElement(g,null)}}),r.a.createElement(f.a,{path:"/summary",render:function(){return r.a.createElement(Q,null)}}),r.a.createElement(f.a,{path:"/statistic",render:function(){return r.a.createElement(Ve,null)}})))},Je=function(){return r.a.createElement("div",{className:u.a.appWrapper},r.a.createElement(v,null),r.a.createElement(Be,null))},Fe=a(51),Ze=a(16),ze=Object(Ze.c)({summaryPage:F,statisticPage:ce}),Ke=Object(Ze.d)(ze,Object(Ze.a)(Fe.a));window.store=Ke;var qe=Ke;o.a.render(r.a.createElement(c.a,null,r.a.createElement(b.a,{store:qe},r.a.createElement(Je,null))),document.getElementById("root"))},9:function(e,t,a){e.exports={header:"Header_header__TcyHl",logo:"Header_logo__1bG8r",nav:"Header_nav__FqsW2",navItem:"Header_navItem__2y3HY",active:"Header_active__fu_PZ"}}},[[52,1,2]]]);
//# sourceMappingURL=main.7c349d04.chunk.js.map